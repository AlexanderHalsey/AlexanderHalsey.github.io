<div #dropdownMenu class="relative">
  <button #toggleButton (click)="toggleMenuOpen($event, !isMenuOpen())">
    @if (activatorTitle()) {
      {{ activatorTitle() }}
    } @else {
      <ng-content select="activator" (click)="toggleMenuOpen($event, !isMenuOpen())" />
    }
  </button>
  <menu
    #menu
    class="absolute right-0 top-8 z-10 border rounded shadow-md"
    [class]="[theme() === 'dark' ? 'bg-gray-700' : 'bg-white', isMenuOpen() ? 'block' : 'hidden']"
  >
    @for (menuItem of menuItems(); track $index) {
      <li class="py-1 px-3 hover:bg-blue-200 hover:bg-opacity-30">
        <button (click)="selectMenuItem($event, menuItem)">
          {{ menuItem.label }}
        </button>
      </li>
    }
  </menu>
</div>
